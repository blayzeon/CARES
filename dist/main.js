(()=>{"use strict";const e=JSON.parse('{"accounts":[{"account":"8004838314","policies":["true","true","true","true"],"bna":{"status":"Blocked","type":"Advance Pay","indicator":"Land Line","crBlock":"true","ccBlock":"true","name1":"AP","name2":"IVR","address1":"PO BOX 1234","address2":"","zip":"12345","city":"Reston","state":"VA","phone1":"8004838314","phone2":"","email":"","tax":"","passcode":"0000","notes":"IVR NUMBER - DO NOT SET UP","au":"NONE","lec":"Global Tel Link","facility":"CA_DOC-Valley State Prison (CA28)"},"comments":[["11/20/2017","CARES User kristine.carter accessed the account"],["07/12/2021","CARES User kristine.carter accessed the account"],["02/28/2022","CARES User kristine.carter accessed the account"]],"transactions":[["11/20/2017","NewAccount","kristine.carter","0.00",""],"07/12/2021",["Deposit","AdvancePayPortal","25.00","MTCN 5930627808142558"],["07/13/2021","AdjustmentDecrease","GTL\\\\kristine.carter","25.00","tf funds from 800-483-8314 to correct number of 716-893-9079"]],"calls":[["02/27/2022","CA28","5596630999","","0m 0s","0.00","0.00","L2","85","9","H"]]},{"account":"8889884768","policies":["true","true","true","true"],"bna":{"status":"Blocked","type":"Advance Pay","indicator":"Land Line","crBlock":"true","ccBlock":"true","name1":"Trust","name2":"IVR","address1":"PO BOX 1234","address2":"","zip":"12345","city":"Reston","state":"VA","phone1":"8889884768","phone2":"","email":"","tax":"","passcode":"0000","notes":"IVR NUMBER - DO NOT SET UP","au":"NONE","lec":"","facility":"CA_DOC-Valley State Prison (CA28)"},"comments":[["05/01/2018","CARES User kristine.carter accessed the account"],["03/03/2022","CARES User kristine.carter accessed the account"],["03/03/2022","CARES User kristine.carter accessed the account"]],"transactions":[["05/01/2018","NewAccount","kristine.carter","0.00",""],"07/12/2021",["Deposit","AdvancePayPortal","25.00","MTCN 4520627805142359"],["03/03/2022","AdjustmentDecrease","GTL\\\\kristine.carter","25.00","tf funds from 888-988-4768 to correct number of 716-893-9079"]],"calls":[["02/28/2022","CA28","5596630999","","0m 0s","0.00","0.00","L2","85","9","H"]]}],"facilities":[{"subId":"CA28","fName":"CA_DOC-Valley State Prison","siteId":"5661","costCenter":"CA28","inmateSystem":"Focus Centralized HMP","phoneSystem":"GTL","rate":"0.03","fee":"0.00"}],"addresses":[{"address1":"5959 CORPORATE DR","address2":"","zip":"77036","city":"HOUSTON","state":"TX"},{"address1":"PO BOX 1234","address2":"","zip":"01001","city":"AGAWAM","state":"MA"}]}'),t=function(e,t=!1,i=[],n=[],d=!1){const a=document.createElement(e);!1!==t&&(a.innerHTML=t);for(let e=0;e<i.length;e+=1)a.setAttribute(i[e][0],i[e][1]);for(let e=0;e<n.length;e+=1)a.classList.add(n[e]);if(!1===d)return a;d.appendChild(a)},i=document.querySelector("#maincontent"),n=e;let d=!1;function a(){alert("yes")}function s(e,t,i="OK",n="Cancel",d=a,s=["popup"]){const o=document.createElement("div");o.setAttribute("id","fader");const c=document.createElement("div");for(let e=0;e<s.length;e+=1)c.classList.add(s[e]);const l=document.createElement("div");l.classList.add("grab"),l.innerHTML=`<strong>ðŸ“‘ ${e}</strong>`;const r=document.createElement("span"),p=document.createElement("div");p.classList.add("flex-col"),p.classList.add("margin-bottom"),p.appendChild(t);const u=document.createElement("div"),h=document.createElement("button");h.innerText=i;const C=document.createElement("button");C.innerText=n,c.appendChild(l),r.appendChild(p),u.appendChild(h),u.appendChild(C),u.classList.add("flex"),r.appendChild(u),c.appendChild(r);const b=document.body;function v(){b.removeChild(o),b.removeChild(c)}b.appendChild(o),b.appendChild(c),h.addEventListener("click",(()=>{d(),v()})),C.addEventListener("click",(()=>{v()})),l.addEventListener("mousedown",(e=>{!function(e){let t=!0;const i=e.clientWidth/2;e.clientHeight,onmousemove=function(n){!0===t&&(e.style.left=n.clientX-i+"px",e.style.top=n.clientY-20+"px")},onmouseup=function(){t=!1}}(c)}))}const o=document.querySelector("#sidebar");t("label","Phone Number: ",[],[],o);const c=t("input",!1,[["type","text"]],[]);o.appendChild(c);const l=t("button","Lookup");o.appendChild(l),t("a","Advanced Search",[["href","#"]],[],o),t("a","LEC Credit",[["href","#"]],[],o),t("div","Links",[],["navy-bg","ff-tnr","margin-top"],o),t("a","Master Facility list",[["href","#"]],[],o),t("a","Refund Form",[["href","#"]],[],o),t("a","Research Page",[["href","#"]],[],o),t("a","Connect Network",[["href","#"]],[],o),t("a","CN Site Info",[["href","#"]],[],o),t("a","Facility Services",[["href","#"]],[],o);const r=t("a","CC Deposit",[["href","#"]],[]);o.appendChild(r);const p=t("a","Create Account",[["href","#"]],[]);function u(e){console.log(e);for(let t in e.bna)document.querySelector(`#${t}`).value=e.bna[t]}o.appendChild(p),l.addEventListener("click",(()=>{for(let e=0;e<n.accounts.length;e+=1)if(c.value===n.accounts[e].account)return d=n.accounts[e],void u(d);console.log(!1)})),function(){function e(){document.querySelectorAll(".active").forEach((e=>{e.classList.remove("active")})),this.classList.add("active"),console.log(this.innerText)}function n(){document.querySelectorAll(".active2").forEach((e=>{e.classList.remove("active2")})),this.classList.add("active2"),console.log(this.innerText)}const d=t("div"),a=t("div",!1,[["id","nav-extraC"]],["blue2-bg"]),s=t("p","&nbsp",[["id","nav-alert"]]),o=["CC Deposit","Other Deposit","Withdrawal","Funds Transfer","Adj Increase","Adj Decrease","Chargeback","Ret Check"];for(let e=0;e<o.length;e+=1){0===e&&t("span","Add (",[],[],d);const i=t("a",o[e],[["href","#"]]);i.addEventListener("click",n),d.appendChild(i),t("span",e===o.length-1?")":" |&nbsp",[],[],d)}a.appendChild(s),a.appendChild(d);const c=["Account Summary","Transactions","Refund","Transaction Summary","CC Auths","Call Records","TAG Comments","Statements","Auto Reload","Alerts"],l=t("div",!1,[["id","nav-container"]],["blue1-bg"]);for(let i=0;i<c.length;i+=1){const n=t("a",c[i],[["href","#"]]);n.addEventListener("click",e),0===i&&n.classList.add("active"),l.appendChild(n)}i.appendChild(l),i.appendChild(a)}(),function(){const e=t("ul",!1,[["id","as-container"]]),a=t("li"),o=(t("select",'<option>Active</option><option>Returned Mail</option><option selected="true">LEC/Inactive</option><option>Blocked</option>',[["id","status"]],[],a),t("div"));t("label","Account Type: ",[],[],o),t("select","<option></option><option>Advance Pay</option><option>Direct Bill</option><option>Friends and Family</option><option>APOC</option>",[["id","type"]],[],o),a.appendChild(o);const c=t("div");t("img",!1,[["src","./img/info_italic.png"]],[],c),t("button","Show Contract Exceptions",[],[],c),a.appendChild(c);const l=t("li"),r=t("div");t("label","Phone Indicator: ",[["id","indicator"]],[],r),t("select","<option>Cell Phone</option><option>Land Line</option><option>No Override</option><option>Not Indicated</option><option>Block</option>",[],[],r),l.appendChild(r),t("img",!1,[["src","./img/info_italic.png"]],[],l);const p=t("div");t("label","Validation Surcharge: ",[],[],p),t("select","<option>Not Indicated</option><option>Yes</option><option>No</option>",[],[],p),l.appendChild(p);const u=t("div");t("label","Special Rate: ",[],[],u),t("select",!1,[["disabled","true"]],[],u),l.appendChild(u);const h=t("li");t("label","Customer Block Requested: ",[["id","crBlock"]],[],h),t("input",!1,[["type","checkbox"]],[],h);const C=t("li");t("label","<strong>Available: </strong>",[],[],C),t("span","$0.00",[],[],C),t("label","<strong>Ledger: </strong>",[],[],C),t("span","$0.00",[],[],C),t("label","<strong>Hold Amount: </strong>",[],[],C),t("span","$0.00",[],[],C),t("label","<strong>Liability Limit: </strong>",[],[],C),t("span","$0.00",[],[],C);const b=t("li"),v=t("div");t("label","Send Bill: ",[],[],v),t("select","<option>No Export</option>",[["disabled","true"]],[],v),b.appendChild(v);const m=t("div");t("label","Facility Rates: ",[],[],m),t("select","<option></option><option>California Department of Corrections</option>",[["disabled","true"]],[],m),t("button","View Rates",[],[],m),b.appendChild(m);const A=t("li"),f=t("div");t("label","Credit Card Block: ",[["id","ccBlock"]],[],f),t("input",!1,[["type","checkbox"]],[],f),A.appendChild(f);const g=t("div");g.appendChild(a),g.appendChild(l),g.appendChild(h),g.appendChild(C),g.appendChild(b),g.appendChild(A),e.appendChild(g);const y=t("div",!1,[["id","as-bnaT"]]),k=t("div",!1,[["id","as-bnaL"]]);y.appendChild(k);const L=t("div",!1,[["id","as-bnaR"]]);y.appendChild(L);const E=t("div",!1,[["id","as-bnaB"]]),x=t("div",!1);E.appendChild(x);const S=t("div",!1);function T(e,i=k,n="input"){const d=document.createElement("div");d.classList.add("input-container"),t("label",`${e}: `,[],[],d);const a=t("input",!1,[["type",n]]);return d.appendChild(a),i.appendChild(d),a}E.appendChild(S),e.appendChild(y),e.appendChild(E),i.appendChild(e);const N="./img/error.gif";T("First Name").setAttribute("id","name1"),T("Last Name").setAttribute("id","name2");const R=T("Address 1");R.setAttribute("data","address"),R.setAttribute("id","address1"),T("Address 2").setAttribute("id","address2");const O=T("Zip Code");O.setAttribute("data","address"),O.setAttribute("id","zip"),O.classList.add("half-width");const P=t("div",!1,[["id","city-state-container"]],["input-container"]);k.appendChild(P),t("label","City, State: ",[],[],P);const B=t("div",!1,[["id","city-state-sub"]],["split-input"]);P.appendChild(B);const D=t("input",!1,[["type","text"],["id","city"]]);D.setAttribute("data","address"),B.appendChild(D);const I=t("input",!1,[["type","text"],["id","state"]]);I.setAttribute("data","address"),B.appendChild(I);const U=t("div"),F=t("img","false",[["src",N]]);F.setAttribute("id","addressIcon"),F.classList.add("ah-activator"),U.appendChild(F);const V=t("div",!1,[],[["popup-shape"]]),w=t("div",!1,[["id","address-validation-popup"]]);V.appendChild(w),U.appendChild(V);const M=t("div","close");M.addEventListener("click",(()=>{V.classList.toggle("visible")})),w.appendChild(M);const z=t("div","Unable to validate address.");w.appendChild(z),F.addEventListener("click",(()=>{V.classList.toggle("visible")})),B.appendChild(U),T("Phone Number").setAttribute("id","phone1"),T("Alt Number").setAttribute("id","phone2"),T("Email").setAttribute("id","email"),T("Federal Tax ID").setAttribute("id","tax"),T("IVR Passcode").setAttribute("id","passcode"),document.querySelectorAll('[data="address"]').forEach((e=>{e.addEventListener("change",(()=>{if(""!==O.value){F.removeAttribute("src");for(let i=0;i<n.addresses.length;i+=1)if(R.value.toUpperCase()===n.addresses[i].address1.toUpperCase())return O.value===n.addresses[i].zip?void(""===D.value&&""===I.value?e(i):t(i)):void t(i);z.innerText="Unable to validate address.",F.setAttribute("src",N)}function e(e){R.value=n.addresses[e].address1,D.value=n.addresses[e].city,I.value=n.addresses[e].state,O.value=n.addresses[e].zip,F.setAttribute("src","./img/yes.gif"),z.innerText="Address is valid"}function t(t){const i=`\n                    Address Found:<br>\n                    ${n.addresses[t].address1}<br>\n                    ${n.addresses[t].city}, ${n.addresses[t].state}${n.addresses[t].zip}<br>\n                    Click here to update the address.\n                `;F.setAttribute("src","./img/warning.png"),z.innerHTML=i,z.addEventListener("click",(function i(){e(t),z.removeEventListener("click",i)}))}}))}));const $=t("div",!1,[],["margin-bottom","margin-top","flex"]),H=t("button","Save Changes"),q=t("button","BNA This Number");$.appendChild(H),$.appendChild(q),k.appendChild($),T("Tax Exempt",L,"checkbox").setAttribute("disabled","true");const G=t("div",!1,[],["input-container","extra-input-width"]);t("label","Notes: ",[],[],G);const X=t("textarea",!1,[["id","notes"]]);G.appendChild(X),L.appendChild(G),T("Authorized User",L).setAttribute("id","au");const _=T("Original LEC",L);_.setAttribute("id","lec"),_.setAttribute("disabled","true");const j=T("Last Facility Called",L);j.setAttribute("disabled","true"),j.setAttribute("id","facility");const W=t("div",!1,[],["input-container","extra-input-width"]);t("label","Originating Facilities: ",[],[],W);const K=t("select",!1,[["id","origF"],["size","4"]]);W.appendChild(K),L.appendChild(W);const Y=t("div",!1,[],["margin-top","margin-bottom"]),J=t("button","Policy Check List");Y.appendChild(J),L.appendChild(Y),J.addEventListener("click",(()=>{const e=t("div"),i=t("div");e.appendChild(i);const n=t("input",!1,[["type","checkbox"]]);i.appendChild(n),t("label","Cell phone/VOIP setup at own risk",[],[],i);const a=t("div");e.appendChild(a);const o=t("input",!1,[["type","checkbox"]]);a.appendChild(o),t("label","Service Fees",[],[],a);const c=t("div");e.appendChild(c);const l=t("input",!1,[["type","checkbox"]]);c.appendChild(l),t("label","90 Days Account Expiration",[],[],c);const r=t("div");e.appendChild(r);const p=t("input",!1,[["type","checkbox"]]);function u(e=!0){!1===e?(n.checked=d.policies[0],o.checked=d.policies[1],l.checked=d.policies[2],p.checked=d.policies[3]):(d.policies[0]=n.checked,d.policies[1]=o.checked,d.policies[2]=l.checked,d.policies[3]=p.checked)}r.appendChild(p),t("label","180 Days Account Expiration",[],[],r),!1===d||u(!1),s("Policy Check List",e,"OK","Cancel",u)}))}()})();